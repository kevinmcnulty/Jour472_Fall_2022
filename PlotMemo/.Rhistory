View(test2)
# $67,521 is the national median household income for 2020
low_income <- med_income %>%
select(CSA2020, mhhi20) %>%
filter(mhhi20 < 67521)
high_income <- med_income %>%
select(CSA2020, mhhi20) %>%
filter(mhhi20 >= 67521)
# 47.7 is the national average crime rate
high_crime <- crime %>%
select(CSA2020, crime20) %>%
filter(crime20 >= 47.7)
low_crime <- crime %>%
select(CSA2020, crime20) %>%
filter(crime20 < 47.7)
test <- cbind.data.frame(med_income, crime)
test <- janitor::clean_names(test)
test2 <- test %>%
select(csa2020, mhhi20, crime20)
test3 <- cbind.data.frame(test2, )
test3 <- test2 %>%
mutate(
in_out = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
View(test3)
test3 <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
View(test3)
test3 <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime",
)
View(test3)
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime",
)
View(main)
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime",
)
low_income_high_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "high_crime")
View(low_income_high_crime)
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime",
)
low_income_high_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "high_crime")
low_income_low_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "low_crime")
high_income_high_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "high_crime")
View(low_income_low_crime)
View(high_income_high_crime)
View(low_income_high_crime)
View(high_income_high_crime)
View(low_income_low_crime)
View(low_income_high_crime)
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime",
)
low_income_high_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "high_crime")
low_income_low_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "low_crime")
high_income_high_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "high_crime")
low_income_low_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "low_crime")
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income",
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime",
)
low_income_high_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "high_crime")
low_income_low_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "low_crime")
high_income_high_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "high_crime")
high_income_low_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "low_crime")
View(high_income_high_crime)
View(high_income_low_crime)
test <- cbind.data.frame(med_income, crime)
test <- janitor::clean_names(test)
test2 <- test %>%
select(csa2020, mhhi20, crime20)
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income"
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime"
)
low_income_high_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "high_crime")
low_income_low_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "low_crime")
high_income_high_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "high_crime")
high_income_low_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "low_crime")
View(med_income_2020)
View(high_income_low_crime)
View(low_income_high_crime)
View(main)
cor(main$mhhi20, main$crime20)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
View(low_income15_high_crime15)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
View(low_income15_high_crime15)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,crime20)
View(low_income15_high_crime15)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
#
# low_income15_high_crime15 <- low_income15_high_crime15 %>%
#   select(csa2020, mhhi20,crime20)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20)
filter(csa2020 = csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20)
filter(csa2020 == csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20)
filter(csa2020, csa2020 == csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20)
filter(csa2020, "csa2020" == "csa2020_2")
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20) %>%
intersect(csa2020, csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20) %>%
filter(csa2020, csa2020 = csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20) %>%
filter(csa2020, csa2020 == csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20) %>%
group_by(csa2020) %>%
filter(csa2020, csa2020 == csa2020_2)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
low_income15_high_crime15 <- low_income15_high_crime15 %>%
select(csa2020, mhhi20,csa2020_2, crime20) %>%
group_by(csa2020)
# filter(csa2020, csa2020 == csa2020_2)
View(low_income15_high_crime15)
med_income_2020 <- med_income %>%
select(CSA2020, mhhi20) %>%
arrange(desc(mhhi20)) %>%
slice_min(mhhi20, n=15)
crime_2020 <- crime %>%
select(CSA2020, crime20) %>%
arrange(desc(crime20)) %>%
slice_max(crime20, n=15)
low_income15_high_crime15 <- cbind.data.frame(med_income_2020, crime_2020)
low_income15_high_crime15 <- janitor::clean_names(low_income15_high_crime15)
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse,rvest,janitor
library(tidyverse)
library(rvest)
library(janitor)
library(ggplot2)
View(main)
test <- cbind.data.frame(med_income, crime)
test <- janitor::clean_names(test)
test2 <- test %>%
select(csa2020, mhhi20, crime20)
main <- test2 %>%
mutate(
income_level = case_when(
mhhi20 < 67521 ~ "low_income",
mhhi20 >= 67521 ~ "high_income"
)
) %>%
mutate(
crime_level = case_when(
crime20 <= 47.7 ~ "low_crime",
crime20 > 47.7 ~ "high_crime"
)
low_income_high_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "high_crime")
low_income_low_crime <- main %>%
filter(income_level == "low_income") %>%
filter(crime_level == "low_crime")
high_income_high_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "high_crime")
high_income_low_crime <- main %>%
filter(income_level == "high_income") %>%
filter(crime_level == "low_crime")
cor(main$mhhi20, main$crime20)
summarize(main)
View(main)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=median_income, size=crime_rate)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135,000)) +
ylim(c(0, 135)) +
labs(subtitle="Area Vs Population",
y="Population",
x="Area",
title="Scatterplot",
caption = "Source: midwest")
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=median_income, size=crime_rate)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Area Vs Population",
y="Population",
x="Area",
title="Scatterplot",
caption = "Source: midwest")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=medianincome, size=crimerate)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Area Vs Population",
y="Population",
x="Area",
title="Scatterplot",
caption = "Source: midwest")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=mhhi20, size=crime20)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Area Vs Population",
y="Population",
x="Area",
title="Scatterplot",
caption = "Source: midwest")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=mhhi20, size=crime20)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Area Vs Population",
y="Crime Rate",
x="Median Household Income",
title="Scatterplot",
caption = "Source: midwest")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=mhhi20)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Area Vs Population",
y="Crime Rate",
x="Median Household Income",
title="Scatterplot",
caption = "Source: midwest")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=mhhi20)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Baltimore, Maryland 2020",
y="Crime Rate",
x="Median Household Income",
title="Correlation Between Income and Crime",
caption = "Source: midwest")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=mhhi20)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Baltimore, Maryland 2020",
y="Crime Rate",
x="Median Household Income",
title="Correlation Between Income and Crime",
caption = "Graphic by Natalie Adams")
plot(gg)
gg <- ggplot(main, aes(x=mhhi20, y=crime20)) +
geom_point(aes(col=mhhi20)) +
geom_smooth(method="loess", se=F) +
xlim(c(0, 135000)) +
ylim(c(0, 135)) +
labs(subtitle="Baltimore, Maryland 2020",
y="Crime Rate",
x="Median Household Income",
title="Correlation Between Income and Crime Rate",
caption = "Graphic by Natalie Adams")
plot(gg)
cor(main$mhhi20, main$crime20)
View(med_income)
View(crime)
View(med_income_2010)
View(crime_2020)
View(low_income15_high_crime15)
View(test2)
View(main)
View(low_income_high_crime)
View(low_income_low_crime)
View(high_income_high_crime)
View(high_income_low_crime)
